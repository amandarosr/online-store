{"ast":null,"code":"var _jsxFileName = \"/home/amandarosr/Documentos/case studies/online-store/online-store/src/pages/Home.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Categories from '../components/Categories';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport Card from '../components/Card';\nimport { getCategories, getProductsFromCategoryAndQuery } from '../services/api';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Home extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      categoryList: [],\n      loading: false,\n      inputValue: '',\n      results: [],\n      productsByCategory: []\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n    this.fetchCategoryList = async () => {\n      this.setState({\n        loading: true\n      });\n      const categories = await getCategories();\n      this.setState({\n        categoryList: categories,\n        loading: false\n      });\n    };\n    this.clickForProducts = async () => {\n      const {\n        inputValue\n      } = this.state;\n      const apiProducts = await getProductsFromCategoryAndQuery('', inputValue);\n      const data = apiProducts.results;\n      this.setState({\n        results: data\n      });\n    };\n    this.clickCategoryForProducts = async categoryId => {\n      const products = await getProductsFromCategoryAndQuery(categoryId);\n      this.setState({\n        productsByCategory: products.results\n      });\n    };\n  }\n  componentDidMount() {\n    this.fetchCategoryList();\n  }\n  render() {\n    const {\n      categoryList,\n      loading,\n      inputValue,\n      results,\n      productsByCategory\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        clickForProducts: this.clickForProducts,\n        inputValue: inputValue,\n        onInputChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"initialMessage\",\n          \"data-testid\": \"home-initial-message\",\n          children: \"Digite algum termo de pesquisa ou escolha uma categoria.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category\",\n          children: categoryList && categoryList.map(products => /*#__PURE__*/_jsxDEV(Categories, {\n            categoryProducts: () => this.clickCategoryForProducts(products.id),\n            name: products.name,\n            value: products.name\n          }, products.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"card-container\",\n          children: [results && results.map(result => /*#__PURE__*/_jsxDEV(Link, {\n            to: `product/${result.id}`,\n            \"data-testid\": \"product-detail-link\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              name: result.title,\n              img: result.thumbnail,\n              price: result.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this)\n          }, result.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)), results.length === 0 ? /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Nenhum produto foi encontrado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 37\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Resultados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 78\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"productsCategory\",\n          children: productsByCategory && productsByCategory.map(products => /*#__PURE__*/_jsxDEV(Link, {\n            to: `product/${products.id}`,\n            \"data-testid\": \"product-detail-link\",\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              \"data-testid\": \"product\",\n              img: products.thumbnail,\n              name: products.title,\n              price: products.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this)\n          }, products.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}","map":{"version":3,"names":["React","Component","Link","Categories","Header","Loading","Card","getCategories","getProductsFromCategoryAndQuery","Home","state","categoryList","loading","inputValue","results","productsByCategory","handleChange","target","name","value","setState","fetchCategoryList","categories","clickForProducts","apiProducts","data","clickCategoryForProducts","categoryId","products","componentDidMount","render","map","id","result","title","thumbnail","price","length"],"sources":["/home/amandarosr/Documentos/case studies/online-store/online-store/src/pages/Home.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Categories from '../components/Categories';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport Card from '../components/Card';\nimport {\n  getCategories,\n  getProductsFromCategoryAndQuery,\n} from '../services/api';\n\nexport default class Home extends Component {\n  state = {\n    categoryList: [],\n    loading: false,\n    inputValue: '',\n    results: [],\n    productsByCategory: [],\n  };\n\n  componentDidMount() {\n    this.fetchCategoryList();\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  };\n\n  fetchCategoryList = async () => {\n    this.setState({ loading: true });\n    const categories = await getCategories();\n    this.setState({ categoryList: categories, loading: false });\n  };\n\n  clickForProducts = async () => {\n    const { inputValue } = this.state;\n    const apiProducts = await getProductsFromCategoryAndQuery('', inputValue);\n    const data = apiProducts.results;\n    this.setState({\n      results: data,\n    });\n  };\n\n  clickCategoryForProducts = async (categoryId) => {\n    const products = await getProductsFromCategoryAndQuery(categoryId);\n    this.setState({\n      productsByCategory: products.results,\n    });\n  };\n\n  render() {\n    const { categoryList, loading, inputValue, results, productsByCategory } = this.state;\n    return (\n      <>\n        <Header\n          clickForProducts={ this.clickForProducts }\n          inputValue={ inputValue }\n          onInputChange={ this.handleChange }\n        />\n        <main>\n          <h3\n            className=\"initialMessage\"\n            data-testid=\"home-initial-message\"\n          >\n            Digite algum termo de pesquisa ou escolha uma categoria.\n          </h3>\n          {loading ? (\n            <Loading />\n          ) : (\n            <div className=\"category\">\n              {categoryList\n                && categoryList.map((products) => (\n                  <Categories\n                    categoryProducts={ () => this.clickCategoryForProducts(products.id) }\n                    key={ products.id }\n                    name={ products.name }\n                    value={ products.name }\n                  />\n                ))}\n            </div>\n          )}\n          <div id=\"card-container\">\n            {results\n              && results.map((result) => (\n                <Link\n                  to={ `product/${result.id}` }\n                  key={ result.id }\n                  data-testid=\"product-detail-link\"\n                >\n                  <Card\n                    name={ result.title }\n                    img={ result.thumbnail }\n                    price={ result.price }\n                  />\n                </Link>\n              ))}\n            {results.length === 0 ? <h3>Nenhum produto foi encontrado</h3> : <p>{}Resultados</p>}\n          </div>\n          <div id=\"productsCategory\">\n            {productsByCategory\n              && productsByCategory.map((products) => (\n                <Link\n                  to={ `product/${products.id}` }\n                  key={ products.id }\n                  data-testid=\"product-detail-link\"\n                >\n                  <Card\n                    data-testid=\"product\"\n                    img={ products.thumbnail }\n                    name={ products.title }\n                    price={ products.price }\n                  />\n                </Link>\n              ))}\n          </div>\n        </main>\n      </>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}